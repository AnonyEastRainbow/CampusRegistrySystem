!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e="undefined"!=typeof globalThis?globalThis:e||self).redirectForLocale=n()}(this,(function(){"use strict";function e(e,n,o){if(n){const t=30484800;document.cookie=`${e}=${n};path=${o};Max-Age=${t}`}else document.cookie=`${e}=;path=${o};expires=Thu, 01 Jan 1970 00:00:01 GMT`}return function(n,o,t,i){if(null==i||!o||o.length<=1)return;const l=i.split("/");let c=l.length<2?"":l[l.length-1];o.includes(c)||(c="");const s=window.navigator.languages;let a=s.find((e=>o.includes(e)));if(!a){const e=o.filter((e=>!e.includes("-")));a=s.map((e=>e.split("-")[0])).find((n=>e.includes(n)))}const d=new RegExp(`\\/${c}\\/?`),u=c?i.replace(d,""):i,f=document.cookie.split("; ").reduce(((e,n)=>{const[o,...t]=n.split("=");return e[o]=t.join("="),e}),{})[t],p=Boolean(f&&o.includes(f)),r="/";if(c&&o.includes(c))e(t,p||a!==c?c:null,r);else if(/[?&]redirect=false/.test(window.location.search))e(t,n===a?null:n,r);else if(p){if(f!==n){const e=window.location.pathname.replace(i,`${u}/${f}`);window.location.pathname=e}}else if(a&&a!==n){const e=window.location.pathname.replace(i,`${u}/${a}`);window.location.pathname=e}}}));
